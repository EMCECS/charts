{{- if .Values.licensefile }}
apiVersion: v1
kind: Secret
type: Opaque
metadata:
  name: dellemc-license-{{required "product name is required to create unique secret name for a product" .Values.product }}

  labels:
    com.dellemc.decklicense.subscribed: "true"
data:
  dellemc_lic.xml: {{required "license xml file is required to create the secret" .Values.licensefile | b64enc }}
{{- end }}
