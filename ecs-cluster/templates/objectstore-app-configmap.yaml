---
apiVersion: v1
kind: ConfigMap
metadata:
    name: {{.Release.Name}}-app-config
    namespace: {{.Release.namespace}}
    labels:
      app.kubernetes.io/name: {{.Release.Name}}
      app.kubernetes.io/version: {{.Values.tag}}
      app.kubernetes.io/instance: {{.Release.Name}}
      app.kubernetes.io/managed-by: {{.Release.Service}}
      helm.sh/chart: {{.Chart.Name}}-{{.Chart.Version | replace "+" "_"}}
      product: objectscale
      release: {{.Release.Name}}
    annotations:
        com.dellemc.kahm.subscribed: "true"
data:
    eventRules: |-
      rules:
        - description: "Hard quota exceeded for this bucket"
          matchon:
            - label: SymptomID
              value: DEOS-1006
          notifiers:
            - objectscale-srs
    eventRemedies: |-
      symptoms:
        - symptomid: DEOS-1006
          description: Hard quota exceeded for this bucket
          remedies:
            - Free up space in the bucket
    health: |-
      spec:
        healthchecks:
          fieldcolumns:
            - name: deos-hc
              fields:
              - name: name
                type: string
              - name: description
                type: string
              - name: enabled
                type: boolean
              - name: schedule
                type: string
              - name: latestSuccess
                type: date
              - name: latestFailure
                type: date
              - name: message
                type: string
          name: objectstore-healthchecks
        healthcheckstatus:
          deos-hc:
            overview: none
            rows:
            - name:
              description:
              enabled: true
              schedule: Every 6 hours
              latestSuccess:
              latestFailure:
              message:
