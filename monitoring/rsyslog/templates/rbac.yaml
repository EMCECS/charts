{{- if eq .Values.global.watchAllNamespaces true }}
kind: ClusterRole
{{- else }}
kind: Role
{{- end }}
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  name: {{ .Release.Name }}-rsyslog-client
  {{- if ne .Values.global.watchAllNamespaces true }}
namespace: {{ .Release.Namespace }}
  {{- end }}
rules:
  - apiGroups:
      - ""
    resources:
      - pods
    verbs: ["list"]
