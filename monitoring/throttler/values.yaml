#
# Copyright Â© [2020] Dell Inc. or its subsidiaries.
# All Rights Reserved.
#
# This software contains the intellectual property of Dell Inc.
# or is licensed to Dell Inc. from third parties. Use of this
# software and the intellectual property contained therein is expressly
# limited to the terms and conditions of the License Agreement under which
# it is provided by or on behalf of Dell Inc. or its subsidiaries.
#
#
---
## Default values.yaml for Throttler
## This is a YAML-formatted file.

global:
  monitoring_registry: emccorp
  tls_enabled: false
  telegraf_tls_enabled: true
  internal_dns: kube-dns.kube-system.svc.cluster.local
  performanceProfile: "Small"

replicaCount: 1

image:
  repository: throttler
  pullPolicy: IfNotPresent

## Configure resource requests and limits
## ref: http://kubernetes.io/docs/user-guide/compute-resources/
resources:
  requests: {}
  limits: {}

## Customize livenessProbe and readinessProbe
##
livenessProbe:
  probePath: "/metrics"

readinessProbe:
  probePath: "/metrics"

startupProbe:
  enabled: false
  probePath: "/ping"

## Tolerations for pod assignment
## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
##
tolerations: []

service:
  bind_address: 8094

## TODO: add ability to specify ip address for throttler to listen on (should be set 127.0.0.1)
config:
  http:
    # change to 18094 if tls is enabled
    bind_address: 8094
  cq_dir: "cq"
  alerter:
    enabled: false
    # Directory with flux query files for each alert
    # Query files should have name in format "alert_<ALERT_ID>.flux"
    # Path is relative to this chart dir
    dir: ""
    interval: "5m"
    # Component from which the alert event is generated
    component: ""

# Application should be created for KAHM to discover event rules
application_enabled: false
