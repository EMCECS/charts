suite: test psp storage policy
templates:
  - persistent-services-platform-storage-policy.yaml
tests:
  - it: should create a storage policy
    set:
      VMwarePersistentService: true
    asserts:
      - isKind:
          of: StoragePolicy
  - it: should have the correct name
    set:
      VMwarePersistentService: true
    asserts:
      - equal:
          path: metadata.name
          value: dellemc-objectscale-local
  - it: should have the correct name
    set:
      VMwarePersistentService: true
    asserts:
      - equal:
        path: metadata.name
        value: dellemc-objectscale-highly-available
  - it: should not create a storage policy
    set:
      VMwarePersistentService: false
    assert:
      - nil
